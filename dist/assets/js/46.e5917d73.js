(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{203:function(t,e,r){"use strict";r.r(e);var a=r(0),s=Object(a.a)({},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"vue-test-utils测试初探"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#vue-test-utils测试初探","aria-hidden":"true"}},[t._v("#")]),t._v(" Vue Test Utils测试初探 🏃")]),t._v(" "),r("p",[r("a",{attrs:{href:"https://vue-test-utils.vuejs.org/zh/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vue Test Utils"),r("OutboundLink")],1),t._v(" 是 Vue.js 官方的单元测试实用工具库。")]),t._v(" "),r("p",[t._v("在开始之前，我们需要一些准备工作，如下：")]),t._v(" "),r("h2",{attrs:{id:"准备工作"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#准备工作","aria-hidden":"true"}},[t._v("#")]),t._v(" 准备工作")]),t._v(" "),r("h3",{attrs:{id:"选择一个测试运行器"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#选择一个测试运行器","aria-hidden":"true"}},[t._v("#")]),t._v(" 选择一个测试运行器")]),t._v(" "),r("ul",[r("li",[r("p",[r("strong",[t._v("Jest")])]),t._v(" "),r("p",[t._v("优点： 功能最全，且配置较少\n缺点：单文件组件导入测试需要一个预处理器，基本的单文件组件功能可以通过"),r("code",[t._v("vue-jest")]),t._v(", 涉及样式块和自定义块只能通过 webpack + vue-loader 进行设置。")])]),t._v(" "),r("li",[r("p",[r("strong",[t._v("mocah-webpack")])]),t._v(" "),r("p",[t._v("优点：通过 webpack + vue-loader 得到完整的单文件组件支持\n缺点：配置多")])])]),t._v(" "),r("h2",{attrs:{id:"浏览器环境"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#浏览器环境","aria-hidden":"true"}},[t._v("#")]),t._v(" 浏览器环境")]),t._v(" "),r("p",[t._v("Vue Test Utils是依赖于浏览器环境的，理论上可以将其运行在一个真实的浏览器环境，但运行多个不同浏览器比较复杂，推荐是用 "),r("a",{attrs:{href:"https://github.com/jsdom/jsdom",target:"_blank",rel:"noopener noreferrer"}},[t._v("JSDOM"),r("OutboundLink")],1),t._v(" 在 Node 虚拟浏览器环境运行测试。Jest 测试运行器自动设置了 JSDOM。")]),t._v(" "),r("h2",{attrs:{id:"单文件组件"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#单文件组件","aria-hidden":"true"}},[t._v("#")]),t._v(" 单文件组件")]),t._v(" "),r("p",[t._v("上面也提到了，Vue 的单文件组件在它们运行于 Node 或浏览器之前是需要预编译的。可以通过一个 Jest 预编译器，或直接使用 webpack。"),r("a",{attrs:{href:"https://vue-test-utils.vuejs.org/zh/guides/testing-single-file-components-with-jest.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("用Jest测试单文件组件"),r("OutboundLink")],1)]),t._v(" "),r("p",[t._v("有了上述基础，我们可以运行一个"),r("a",{attrs:{href:"https://github.com/vuejs/vue-test-utils-jest-example",target:"_blank",rel:"noopener noreferrer"}},[t._v("简单项目"),r("OutboundLink")],1),t._v("试一试")]),t._v(" "),r("h2",{attrs:{id:"常用技巧"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#常用技巧","aria-hidden":"true"}},[t._v("#")]),t._v(" 常用技巧")])])},[],!1,null,null,null);e.default=s.exports}}]);